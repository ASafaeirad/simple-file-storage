# Simple File Storage: Amazon S3 Bucket Alternative

A lightweight and easy-to-use file storage for local development and testing environments.

## Usage

1. Clone this repository to your local machine.
2. Start the application by running:
   ```
   pnpm start
   ```
   Alternatively, you can use Docker:
   ```
   docker-compose up
   ```
   If needed,
   you can modify the location
   where files are stored on the local disk
   by editing the `docker-compose.yml` file.
   By default,
   files are stored in the `./storage` directory at the root of the project.
3. If you want to customize the default settings, such as the `PORT` (default is 9009), or make other configuration changes, create a `.env` file in the project's root directory. Refer to the `.env.example` file for guidance on setting the environment variables.

## API

### Upload

To upload a file, send a `multipart/form-data` POST request to `/f`.
Include the file blob in the request body, setting the `myFile` property.

On successful upload, the response will be in the following format:
```typescript
type UploadedFile = {
  fileName: string;     // A unique filename generated by nanoid, which can be used to retrieve the file later
  originalName: string; // The original filename of the uploaded file (sanitized and trimmed)
  mimeType: string;     // The media type of the file, e.g., `image/png`
  size: number;         // The size of the file in bytes
}
```

If an error occurs during upload, the response will be in the following format:
```typescript
type UploadError = {
  message?: string;
}
```

### Get

To download a file, you can use the following code:
```typescript
fetch('localhost:<PORT>/f/<FILENAME>')
```
The response will be a blob with the `Content-Type` header
set to the file's MIME type.
The appropriate `Content-Disposition` header will also be included
to allow the file to be saved with its original name.

To retrieve a list of all uploaded files, use the following code:
```typescript
fetch('localhost:<PORT>/f')
```
The response will be in the following format:
```typescript
type UploadedFiles = UploadedFile[];
```

### Delete

To delete a file, use the following code:
```typescript
fetch('localhost:<PORT>/f/<FILENAME>', { method: 'DELETE' })
```
