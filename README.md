# Simple File Storage: Amazon S3 Bucket Alternative

A lightweight and easy-to-use file storage for local development and testing environments.

## Usage

1. **Clone the Repository:**
   Clone this repository to your local machine.

2. **Start the Application:**
   - Using PNPM:
     ```bash
     pnpm start
     ```
   - Using Docker:
     ```bash
     docker-compose up
     ```
     *Note: You can change the local storage location by editing the `docker-compose.yml` file. By default, files are stored in the `./storage` directory at the project root.*

## Configuration

To modify default settings like `PORT` (default: 9009), create a `.env` file in the project's root. Use `.env.example` as a reference for setting environment variables.

## API

### Upload

To upload a file, send a `multipart/form-data` POST request to `/f`.
Include the file blob in the request body, setting the `myFile` property.

On successful upload, the response will be in the following format:
```typescript
type UploadedFile = {
  fileName: string;     // A unique filename generated by nanoid, which can be used to retrieve the file later
  originalName: string; // The original filename of the uploaded file (sanitized and trimmed)
  mimeType: string;     // The media type of the file, e.g., `image/png`
  size: number;         // The size of the file in bytes
}
```

If an error occurs during upload, the response will be in the following format:

```typescript
type UploadError = {
  message?: string;
}
```

### Get

To download a file, you can use the following code:
```typescript
fetch('<ENDPOINT>/<FILENAME>')
```
The response will be a blob with the `Content-Type` header
set to the file's MIME type.
The appropriate `Content-Disposition` header will also be included
to allow the file to be saved with its original name.

To retrieve a list of all uploaded files, use the following code:

```typescript
fetch('<ENDPOINT>/')
```

The response will be in the following format:

```typescript
type UploadedFiles = UploadedFile[];
```

### Delete

To delete a file, use the following code:

```typescript
fetch('<ENDPOINT>/<FILENAME>', { method: 'DELETE' })
```
